select dbms_metadata.get_ddl('TABLE', 'TB_COMPANY_INFO', 'PAYROLL') as table_ddl from dual;
  

BEGIN
   DBMS_OUTPUT.put_line (
      DBMS_METADATA.get_ddl ('TABLE', 'TB_COMPANY_INFO')||
	  DBMS_METADATA.GET_DDL('INDEX','IDX_COMPANY_INFO')
	  );
END;

SELECT owner, table_name FROM all_tables where owner='PAYROLL';

select * from  dba_data_files

select tablespace_name,sum(bytes) from dba_free_space group by tablespace_name

SELECT TABLESPACE_NAME,SUM(BYTES)/1024/1024 FROM DBA_FREE_SPACE GROUP BY TABLESPACE_NAME

select tablespace_name,file_name,user_bytes from dba_data_files b


Select a.tablespace_name,a.file_name,a.bytes/1024/1024 TABLESPACE_SIZE_MB,
Sum(b.bytes)/1024/1024 FREE_IN_MB from dba_free_space b,dba_data_files a
Where a.tablespace_name = b.tablespace_name
AND a.file_id = b.file_id
GROUP by a.tablespace_name, a.file_name,a.bytes/1024/1024


SELECT DATA_FILES.TABLESPACE_NAME,DATA_FILES.FILE_NAME, DATA_FILES.BYTES/1024/1024 AS TOTAL_SIZE,
SUM(FREE_SPACE.BYTES)/1024/1024 AS FREE_SPACE 
FROM DBA_DATA_FILES DATA_FILES, DBA_FREE_SPACE FREE_SPACE
WHERE DATA_FILES.FILE_ID=FREE_SPACE.FILE_ID
GROUP BY DATA_FILES.TABLESPACE_NAME,DATA_FILES.FILE_NAME, DATA_FILES.BYTES

ALTER SYSTEM SET OPEN_CURSORS = 2000 SCOPE=BOTH;

SELECT TABLE_NAME FROM ALL_TABLES WHERE OWNER='PAYROLL'

SELECT INDEX_NAME FROM ALL_INDEXES WHERE OWNER='PAYROLL'

set pagesize 0;

set long 90000;

select DBMS_METADATA.get_ddl ('TABLE', 'TB_COMPANY_INFO') as tbale_data, DBMS_METADATA.GET_DDL('INDEX','IDX_COMPANY_INFO') as index_data from dual;


CREATE OR REPLACE PROCEDURE GET_TABLE_SCRIPT(OUT SCRIPT)
AS BEGIN
   SCRIPT := DBMS_METADATA.GET_DDL ('TABLE', 'TB_COMPANY_INFO')||DBMS_METADATA.GET_DDL('INDEX','IDX_COMPANY_INFO');
END;


declare
text dbms_output.CHARARR;
a number;
begin
dbms_output.enable;
dbms_output.get_lines(text,a);
FOR i IN 1..a LOOP 
      dbms_output.put_line(text(i)||i); 
END LOOP; 
end;

drop index "PAYROLL"."IDX_COMPANY_INFO"

CREATE UNIQUE INDEX "PAYROLL"."IDX_COMPANY_INFO" ON "PAYROLL"."TB_COMPANY_INFO" ("COMPANY") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 NOLOGGING COMPUTE STATISTICS 
  STORAGE(INITIAL 16000 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "USERS"